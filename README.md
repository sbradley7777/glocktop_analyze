# glocktop_analyze
A python script that analyzes output generated by [`glocktop`](https://git.fedorahosted.org/cgit/gfs2-utils.git/tree/gfs2/glocktop) for GFS2 filesystems.

### Install
Clone the `git` repo [sbradley7777/glocktop_analyze](https://github.com/sbradley7777/glocktop_analyze).
```
$ mkdir ~/github
$ git clone https://github.com/sbradley7777/glocktop_analyze.git
```

### Run
Add the `glocktop_analyze` to your `PYTHONPATH` enviroment variable. Edit `~/.bash_profile` and add the following to `PYTHONPATH`. If the variable does not exist then create and export the varaible.
```
export PYTHONPATH=$HOME/github/glocktop_analyze:
```
Then log out of console or run the following command:
```
$ source ~/.bash_profile
```
Then run the following to see if script works and loads libraries.
```
$ ~/github/glocktop_analyze/glocktop_analyze.py -h
```
To analyze a glocktop file then run the following command:
```
$ ~/github/glocktop_analyze/glocktop_analyze.py -p /tmp/glocktop.node1
```

### References
- [Source Code gfs2-utils.git - `glocktop`](https://git.fedorahosted.org/cgit/gfs2-utils.git/tree/gfs2/glocktop)
- [How can I view glock contention on a GFS2 filesystem in real-time in a RHEL 5, 6, or 7 Resilient Storage cluster?](https://access.redhat.com/articles/666533)
